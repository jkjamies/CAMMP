<!-- Keep a Changelog guide -> https://keepachangelog.com -->

# CAMMP Changelog

## [Unreleased]

### Added

- Claude Code skills for CAMMP Clean Architecture scaffolding
  - `/cammp-mcp` skill - Delegates to CAMMP MCP server's `generate_feature` tool
  - `/cammp` skill - Standalone skill that generates files directly without MCP server
  - Reference documentation for strategies, naming conventions, module templates, settings, and build-logic
- CI/CD packaging and release of skill zip artifacts (`cammp-skill.zip`, `cammp-mcp-skill.zip`)

## [0.0.8-alpha] - 2026-02-19

### Added

- MCP (Model Context Protocol) server for AI-assisted Clean Architecture scaffolding
  - `generate_feature` tool for creating full module structures via MCP clients
  - Strategy resources (`cammp://strategies/di`, `cammp://strategies/datasource`) for discoverability
  - Shadow JAR packaging (`cammp-mcp.jar`) for standalone stdio transport
- Multi-module project architecture (`:core`, `:plugin`, `:mcp-server`)
  - `:core` - Pure Kotlin shared code (generators, domain models, KotlinPoet factories)
  - `:plugin` - IntelliJ plugin (UI, toolwindow, IDE-specific generators)
  - `:mcp-server` - MCP server with Metro DI and kotlinx-serialization
- Metro DI Option now adds plugin to version catalog and convention plugins
- Metro-specific annotations for generated code (`@ContributesBinding`, `@ContributesIntoMap`, `@ViewModelKey`)
- `metroViewModel()` Compose integration for generated presentation modules

### Changed

- Refactored from single-module to multi-module project structure
- Clean Architecture generator shared between plugin and MCP server via `:core`
- Metro DI classes are non-internal for cross-module wiring
- Updated dependencies

## [0.0.7-alpha] - 2026-01-22

### Added

- Optional 'api' module for Clean Architecture generator to separate use case interfaces

### Changed

- Refactored all DI contributions to resolve binary compatibility issues for plugin publishing
- When an 'api' module exists, the presentation generator will exclude the domain implementations
  - If 'api' module does not exist, domain is used

## [0.0.6-alpha] - 2026-01-17

### Added

- Circuit Presentation Option (coming soon)
- Metro Dependency Injection Option (coming soon)
- Architecture updates for future scalability
- Optional DI Module for Koin w/Annotations & Metro (coming soon)
- Updated Welcome screen with the latest feature information

### Changed

- All tests updated for better concurrency

## [0.0.5-alpha] - 2026-01-01

### Added

- Added welcome screen notes
- Automatically adds `kotlin-metadata-jvm` to app module when using hilt and kotlin 2.3.0+

### Changed

- FlowStateHolder has a composable remember function with stable state class
- ScreenStateHolder has a composable remember function with stable state class
- Fixed convention plugin IDs added to version catalog (capitalization issue)
- Updated version catalog handling to prevent mess (wip/in-testing)

## [0.0.4-alpha] - 2025-12-31

### Added

- Message about :app module importing DI module - why and option to remove manually
- Unit-Tests for ~75% of functionality
- Version Catalog (.toml) check and additions for convention plugin generation
- Compose BOM usage for presentation convention plugin
- Added UI-Tests
  - Welcome Screen

### Changed

- Convention plugins now generated by KotlinPoet
  - Data Module Convention Plugin
  - DI Module Convention Plugin
  - Domain Module Convention Plugin
  - Presentation Module Convention Plugin
  - DataSource (combined, when selected) Module Convention Plugin
  - Local DataSource (when selected) Module Convention Plugin
  - Remote DataSource (when selected) Module Convention Plugin
- Aliases.kt for the convention plugins now generated by KotlinPoet
  - Some updates for conditional Aliases.kt definitions based on DI options

### Fixed

- Imports on repository generator for DI-modules (repository & datasources)
- Typo in DI convention plugin naming
- Org will auto-lowercase the first letter to prevent IDE warnings
- Destination directory renamed to Destinations to match the destination file package given
- NavGraphBuilder for destinations lowercase function naming and corrected imports for Screen Composables

### Removed

- Template files removed

## [0.0.3-alpha] - 2025-12-23

### Added

- Welcome | Get Started Screen Added
- Repository Generator Testing
- UseCase Generator Testing
- Presentation Generator Testing
- Kover reporting to CodeCov

### Changed

- All generators now have better optimized IO threading via coroutines
- The following were converted from template-based to KotlinPoet generation
  - Intent (MVI)
  - UiState
  - ScreenStateHolder
  - FlowStateHolder
  - NavigationHost
  - Destination
  - Screen
  - ViewModel & ViewModelModule
- kotest from 5.9.1 to 6.0.7
- app.cash.turbine:turbine from 1.1.0 to 1.2.1
- io.mockk:mockk from 1.13.12 to 1.14.7
- org.hamcrest:hamcrest from 2.2 to 3.0
- Gradle Version Update 9.0.0 -> 9.2.1
- org.gradle.toolchains.foojay-resolver-convention from 0.8.0 to 1.0.0
- org.jetbrains.changelog from 2.2.1 to 2.5.0
- [actions/upload-artifact](https://github.com/actions/upload-artifact) from 4 to 6
- [actions/checkout](https://github.com/actions/checkout) from 4 to 6
- [org.jetbrains.jewel:jewel-int-ui-standalone](https://github.com/JetBrains/intellij-community) from 0.29.0-251.27828 to 0.33.0-253.29795

## [0.0.2-alpha] - 2025-12-20

### Added

- Added plugin logo.

### Changed

- Updated licensing information.

## [0.0.1] - 2025-12-20

Initial Alpha Release

[Unreleased]: https://github.com/jkjamies/CAMMP/compare/v0.0.8-alpha...HEAD
[0.0.8-alpha]: https://github.com/jkjamies/CAMMP/compare/v0.0.7-alpha...v0.0.8-alpha
[0.0.7-alpha]: https://github.com/jkjamies/CAMMP/compare/v0.0.6-alpha...v0.0.7-alpha
[0.0.6-alpha]: https://github.com/jkjamies/CAMMP/compare/v0.0.5-alpha...v0.0.6-alpha
[0.0.5-alpha]: https://github.com/jkjamies/CAMMP/compare/v0.0.4-alpha...v0.0.5-alpha
[0.0.4-alpha]: https://github.com/jkjamies/CAMMP/compare/v0.0.3-alpha...v0.0.4-alpha
[0.0.3-alpha]: https://github.com/jkjamies/CAMMP/compare/v0.0.2-alpha...v0.0.3-alpha
[0.0.2-alpha]: https://github.com/jkjamies/CAMMP/compare/v0.0.1...v0.0.2-alpha
[0.0.1]: https://github.com/jkjamies/CAMMP/commits/v0.0.1
